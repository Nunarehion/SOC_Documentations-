## Сущность **post** – модель контента в социальной сети

| Поле           | Тип                                       | Ограничения                              | Назначение / описание                                                                                                                         |
| -------------- | ----------------------------------------- | ---------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------- |
| **id**         | `SERIAL` (автоинкрементный целочисленный) | `PRIMARY KEY`                            | Уникальный идентификатор поста. Используется для формирования URL, в ссылках комментариев, лайков и репостов.                                 |
| **author_id**  | `INTEGER`                                 | `NOT NULL`, `FOREIGN KEY (auth_user.id)` | Ссылка на **auth_user**, обозначающая автора поста. Используется для выборки всех постов пользователя.                                        |
| **content**    | `TEXT`                                    | `NOT NULL`                               | Основное содержимое поста: текстовое сообщение и, при необходимости, сериализованные данные о медиа (JSON/JSONB или отдельная таблица-связь). |
| **created_at** | `TIMESTAMP WITH TIME ZONE`                | `DEFAULT CURRENT_TIMESTAMP`              | Время публикации (создания) поста. Используется для сортировки в ленте новостей и аналитики.                                                  |
| **updated_at** | `TIMESTAMP WITH TIME ZONE`                | `DEFAULT CURRENT_TIMESTAMP`              | Время последнего изменения поста. Обновляется при редактировании.                                                                             |
| **status**     | `VARCHAR(30)`                             | `DEFAULT 'active'`                       | Текущий статус поста (`active`, `deleted`, `hidden`, `draft`). Определяет, доступен ли пост для просмотра.                                    |
| **view_count** | `INTEGER`                                 | `DEFAULT 0`                              | Количество просмотров поста. Используется для аналитики и ранжирования в рекомендательных системах.                                           |

---

### Дополнительные детали

- **Индексы**:

  - Индекс на `author_id` (необходим для быстрого поиска всех постов пользователя).
  - Индекс на `created_at` (критичен для быстрой загрузки ленты новостей, которая обычно сортируется по дате).

- **Связи**:

  - **`author_id`** ссылается на `auth_user.id`.
  - Другие сущности (например, `comment`, `like`, `repost`) будут содержать внешний ключ `post_id` → `post.id`.
  - Рекомендуется использовать `ON DELETE SET NULL` или сохранять историю действий, при удалении поста обычно меняется только `status` на `'deleted'` или `'hidden'`, чтобы сохранить связи (комментарии, лайки).

- **Валидация**:
  - Для поля `content` требуется ограничение на минимальную и максимальную длину текста.
  - Необходимо предусмотреть санитарную обработку (sanitization) контента для предотвращения XSS-атак.

Эта модель представляет собой ядро контента социальной сети, вокруг которого строятся все пользовательские взаимодействия.
