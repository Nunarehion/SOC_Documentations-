### Юзер‑кейсы: пользователь заходит на страницу аутентификации

1. **Открытие страницы входа**  
   - Пользователь вводит URL `https://example.com/login` в браузер.  
   - Сервер возвращает HTML‑страницу с формой входа (поля email, password, кнопка «Войти», ссылка «Забыли пароль?»).  
   - На клиенте Svelte‑компонент монтируется, устанавливает начальное состояние (`email = ""`, `password = ""`, `error = null`).

2. **Ввод данных**  
   - Пользователь заполняет поле email и поле password.  
   - При каждом вводе происходит локальная валидация (корректный email‑формат, минимум 8 символов в пароле).  
   - Если валидация не прошла, отображается подсказка под полем и кнопка «Войти» остаётся отключённой.

3. **Отправка формы**  
   - Пользователь нажимает кнопку «Войти».  
   - Svelte отправляет `POST /api/auth/login/` с JSON‑телом `{email, password}`.  
   - UI переходит в состояние «loading» (спиннер, кнопка отключена).

4. **Обработка ответа сервера**  
   - **Успех (200)**: сервер возвращает JWT.  
     - JWT сохраняется в `localStorage` (или `sessionStorage`).  
     - Пользователь перенаправляется на главную ленту (`/feed`).  
     - В глобальном состоянии (store) сохраняются данные пользователя (id, email).  
   - **Ошибка (401/400)**: сервер возвращает сообщение об ошибке.  
     - UI отображает ошибку «Неправильный email или пароль».  
     - Поля остаются заполненными, пользователь может исправить ввод.

5. **Автоматическое перенаправление при уже авторизованном пользователе**  
   - При загрузке страницы входа клиент проверяет наличие валидного JWT в хранилище.  
   - Если токен существует и не истёк, сразу происходит `router.push('/feed')` без отображения формы.

6. **Восстановление пароля (по ссылке «Забыли пароль?»)**  
   - Пользователь кликает ссылку → переходит на `/password-reset`.  
   - Заполняет email, отправляет `POST /api/auth/password-reset/`.  
   - Сервер отправляет одноразовый код на email.  
   - Пользователь получает письмо, переходит на страницу подтверждения (`/password-reset/confirm`).  
   - Вводит код и новый пароль, отправляет `POST /api/auth/password-reset/confirm/`.  
   - При успехе показывается сообщение «Пароль изменён», предлагается перейти к входу.

7. **Выход из системы (на любой странице после входа)**  
   - Пользователь нажимает кнопку «Выйти» в меню профиля.  
   - Клиент отправляет `POST /api/auth/logout/` с заголовком `Authorization: Bearer <jwt>`.  
   - При получении `204 No Content` JWT удаляется из хранилища, пользователь перенаправляется на страницу входа.  

Эти шаги покрывают типичный поток от открытия страницы входа до успешного входа, обработки ошибок и восстановления доступа.